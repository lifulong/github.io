<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Simplest | A free Jekyll theme for download - Página 2 </title> <meta name="description" content=" A free Jekyll theme for download - Página 2 "> <meta name="keywords" content="Jekyll, theme, free, download, SEO, blog, web"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="website"> <meta property="og:url" content="http://nandomoreira.me/page/2/"> <meta property="og:title" content=" Simplest | A free Jekyll theme for download - Página 2 "> <meta property="og:image" content="http://nandomoreira.me"> <meta property="og:description" content=" A free Jekyll theme for download - Página 2 "> <meta property="og:site_name" content="Fernando Moreira"> <meta property="og:locale" content="pt_BR"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@nandomoreirame"> <meta name="twitter:title" content=" Simplest | A free Jekyll theme for download - Página 2 "> <meta name="twitter:description" content=" A free Jekyll theme for download - Página 2 "> <meta name="twitter:image:src" content="http://nandomoreira.me"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" Simplest | A free Jekyll theme for download - Página 2 "> <meta itemprop="description" content=" A free Jekyll theme for download - Página 2 "> <meta itemprop="image" content="http://nandomoreira.me"> <!-- rel prev and next --> <link rel="prev" href="http://nandomoreira.me/"> <link rel="stylesheet" href="/assets/css/main.css"> <!-- Canonical link tag --> <link rel="canonical" href="http://nandomoreira.me/page/2/"> <link rel="alternate" type="application/rss+xml" title="Simplest" href="http://nandomoreira.me/feed.xml"> <script type="text/javascript"> var disqus_shortname = 'fernandomoreira'; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-52446115-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="/">Simplest<span>blog</span></a></h1> <ul class="navbar"> <li><a href="/about">about</a></li> <li><a href="/feed.xml" target="_blank">feed</a></li> </ul> </div> </nav> </header> <section class="intro"> <div class="container"> <p class="lead">Hi, I'm <strong class="author-name" itemprop="name">Fernando Moreira</strong>, a <em itemprop="jobTitle">Frontend Engineer</em>. <br> Enthusiast performance, responsive design and usability, always looking for the best project and good coffee. -- <a href="http://nandomoreira.me/about" target="_blank">about me</a></p> </div> </section> <section class="post-list"> <div class="container"> <h2>Writing..</h2> <article class="post-item"> <p><span class="post-meta">Dec 4, 2014</span> — <strong><a class="post-link" href="/2014/deal_big_data/">一次Bash处理数据的经历</a></strong> — <span> 背景 Nginx访问日志中记录了客户端的访问信息，根据访问URL中带的参数，可以进行行为分析， 当前日志中记录了过去7天的访问日志，每天的访问日志根据时间分别存放在24个不同的文件中， 一天的24个日志文件的总大小约20G左右，为了追踪用户手机ID，及该用户的手机机型、 操作系统型号、APP版本号，需从日志中提取相关的信息 过程 1.Shell单进程提取 选取符合条件的数据文件，逐个处理文件， 逐行读取文件，判断改行是否符合条件， 如果符合条件，则从改行选取有用的字段； 对该字段进行后续的字符串操作，两级split处理 多个文件的处理结果追加到结果文件中， 追加的时候进行查重处理，重复的数据不追加 处理半小时后，未结束，生成结果速度明显减慢,5个小时未出最终结果 怀疑原始大文件读取到一定行数述速度减慢 怀疑追加结果前查重处理当结果数增加时影响查重速度 故实现多进程版本，希望加速处理 2.Shell多进程提取 选取符合条件的数据文件， 每个数据文件建立子Shell进行处理， 处理结果写到独立的结果文件中，追加前进行查重处理， 将多个子Shell的结果进行合并除重 处理半小时后，未结束，生成结果速度明显减慢,3个小时未出最终结果 怀疑追加结果前查重处理当结果数增加时影响查重速度 故实现Python版本，处理结果常驻内存增加处理速度 3.Python数据常驻内存处理 选取其中一个数据文件， 逐行读取文件，逐行处理， 处理结果存放到内存中，在内存中除重， 生成所有结果后，写入到文件中， 处理半小时后，未结束，3个小时未出最终结果 怀疑Python脚本语言本身速度的问题 实现C++版本 4.C++处理 处理过程同Python实现， 只是将实现语言改为C++ 5.Shell预处理，数据提取 选取符合条件的数据文件，24个， 每个文件用一个子Shell处理， 每个子进程首先对该进程负责的文件进行预处理，...</span> <a class="post-link readmore" href="/2014/deal_big_data/">Read more</a></p> </article> <article class="post-item"> <p><span class="post-meta">Nov 28, 2014</span> — <strong><a class="post-link" href="/2014/bash/">Bash语法</a></strong> — <span> BASH语法 表达式求值 eval 对表达式的值计算两次，并返回 ` 计算表达式的值 示例 eval $() 数学表达式计算 num=$[num+1] num=$((num+1)) num=`expr $num+1` () 与 {} ()用户组合执行多个命令； {}用户组合执行多个命令； ()多个命令在子Shell中执行；{}在当前Shell中执行； (()) 与 $(()) (())专用于数值计算； $(())直接获取数值计算结果； ’ 与 “ ‘号内所有字符当作普通字符处理 “号内’$’与’`‘当作特殊字符处理 文件重定向 exec exec 3&lt;&gt;$filename 关闭3的输出 exec 3&lt;&amp;- 关闭3的输入 exec 3&gt;&amp;-...</span> <a class="post-link readmore" href="/2014/bash/">Read more</a></p> </article> <article class="post-item"> <p><span class="post-meta">Nov 8, 2014</span> — <strong><a class="post-link" href="/2014/todolist/">Todo List</a></strong> — <span> 2016.02.15 学习 scala,java,akka学习 Spark试用 2015.05.27 项目 基于地理位置的私教服务【寻找羽毛球教练等】 基于地理位置的自助约球服务【约羽毛球爱好者】 学习 通过Sqoop切入Hadoop 学好羽毛球 培养新爱好 学车 Hadoop架构及源码 Storm使用 Linux内核架构[含TCP/IP协议栈] 经典挖掘算法的学习实现 2015.03.02 学习 Hadoop学习 Hadoop生态圈学习 2014.12.14 学习 Php Yii框架学习 redis,memcache学习 Mysql查询优化学习 基于路网信息的实时轨迹优化算法学习 项目 基于路网信息的实时轨迹优化开源项目 2014.12.6 项目 邮件客户端(含垃圾邮件过滤、批量邮件处理) 任务 加入GoAgent日志，写日志文件，方便后续分析 个人主页中加入微信二维码 学习 ssl,ssh,samba,pop3,smtp,ftp协议学习 2014.12.3 项目...</span> <a class="post-link readmore" href="/2014/todolist/">Read more</a></p> </article> </div> <div class="container"> <nav class="pagination" role="pagination"> <ul> <li><a class="prev" href="/" title="Articles new">&laquo; Prev</a></li> <li><span class="page-number">Page 2 of 2</span></li> <li><span class="next disabled">Next &raquo;</span></li> </ul> </nav> </div> </section> <footer class="site-footer"> <div class="container"> <small class="pull-left">&copy;2016 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small> <small class="pull-right">by <a href="http://nandomoreira.me/" target="_blank">nandomoreira.me</a></small> </div> </footer> </main> </body> </html>
